persistentMenuSetup();

function persistentMenuSetup() {
	console.log("entered persistent menu setup");

	request({
		url: 'https://graph.facebook.com/v2.6/me/thread_settings?access_token=' + token,
		method: 'POST',
		json: {
			setting_type: "call_to_actions",
			thread_state: "existing_thread",
			call_to_actions: [
				{
				  type: "postback",
				  title: "By Product",
				  payload: "searchProduct"
				}, {
				  type: "postback",
				  title: "By Recipe",
				  payload: "searchRecipe"
				}, {
				  type: "web_url",
				  title: "By Barcode",
				  payload: "searchBarcode"
				}
			]
		}
	}, function(error, response, body) {
		//console.log(response);

		if (error) {
			console.log('Error sending messages: ', error);
		} else if (response.body.error) {
			console.log('Error: ', response.body.error);
		}
	}
})

*/
/*

	var headers = { 'Content-Type': 'application/json' };

	console.log("IN OPTIONS FOR PERSISTENT MENU SETUP");

	var options = {
		url: 'https://graph.facebook.com/v2.6/me/thread_settings?access_token=PAGE_ACCESS_TOKEN',
		method: 'POST',
		headers: headers,
		body: JSON.stringify({
			"setting_type": "call_to_actions",
			"thread_state": "existing_thread",
			"call_to_actions": [
				{
					"type": "postback",
					"title": "By Product",
					"payload": "searchProduct",
				},
				{
					"type": "postback",
					"title": "By Recipe",
					"payload": "searchRecipe",
				},
				{
					"type": "postback",
					"title": "By Barcode",
					"payload": "searchBarcode"
				}
			]
		})
	};

	request(options, function callback(error, response, body) {
		if (!error && response.statusCode == 200) {
			console.log(body);
			console.log("IN CALLBACK");
		}
	});
}
